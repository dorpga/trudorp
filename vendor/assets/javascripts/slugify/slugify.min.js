
;(function (name, root, factory) {
  if (typeof exports === 'object') {
    module.exports = factory()
  }
  /* istanbul ignore next */
  else if (typeof define === 'function' && define.amd) {
    define(factory)
  }
  else {
    root[name] = factory()
  }
}('slugify', this, function () {
  var charMap = {
    // latin
    'Ã€': 'A', 'Ã': 'A', 'Ã‚': 'A', 'Ãƒ': 'A', 'Ã„': 'A', 'Ã…': 'A', 'Ã†': 'AE',
    'Ã‡': 'C', 'Ãˆ': 'E', 'Ã‰': 'E', 'ÃŠ': 'E', 'Ã‹': 'E', 'ÃŒ': 'I', 'Ã': 'I',
    'ÃŽ': 'I', 'Ã': 'I', 'Ã': 'D', 'Ã‘': 'N', 'Ã’': 'O', 'Ã“': 'O', 'Ã”': 'O',
    'Ã•': 'O', 'Ã–': 'O', 'Å': 'O', 'Ã˜': 'O', 'Ã™': 'U', 'Ãš': 'U', 'Ã›': 'U',
    'Ãœ': 'U', 'Å°': 'U', 'Ã': 'Y', 'Ãž': 'TH', 'ÃŸ': 'ss', 'Ã ': 'a', 'Ã¡': 'a',
    'Ã¢': 'a', 'Ã£': 'a', 'Ã¤': 'a', 'Ã¥': 'a', 'Ã¦': 'ae', 'Ã§': 'c', 'Ã¨': 'e',
    'Ã©': 'e', 'Ãª': 'e', 'Ã«': 'e', 'Ã¬': 'i', 'Ã­': 'i', 'Ã®': 'i', 'Ã¯': 'i',
    'Ã°': 'd', 'Ã±': 'n', 'Ã²': 'o', 'Ã³': 'o', 'Ã´': 'o', 'Ãµ': 'o', 'Ã¶': 'o',
    'Å‘': 'o', 'Ã¸': 'o', 'Ã¹': 'u', 'Ãº': 'u', 'Ã»': 'u', 'Ã¼': 'u', 'Å±': 'u',
    'Ã½': 'y', 'Ã¾': 'th', 'Ã¿': 'y', 'áºž': 'SS',
    // greek
    'Î±': 'a', 'Î²': 'b', 'Î³': 'g', 'Î´': 'd', 'Îµ': 'e', 'Î¶': 'z', 'Î·': 'h', 'Î¸': '8',
    'Î¹': 'i', 'Îº': 'k', 'Î»': 'l', 'Î¼': 'm', 'Î½': 'n', 'Î¾': '3', 'Î¿': 'o', 'Ï€': 'p',
    'Ï': 'r', 'Ïƒ': 's', 'Ï„': 't', 'Ï…': 'y', 'Ï†': 'f', 'Ï‡': 'x', 'Ïˆ': 'ps', 'Ï‰': 'w',
    'Î¬': 'a', 'Î­': 'e', 'Î¯': 'i', 'ÏŒ': 'o', 'Ï': 'y', 'Î®': 'h', 'ÏŽ': 'w', 'Ï‚': 's',
    'ÏŠ': 'i', 'Î°': 'y', 'Ï‹': 'y', 'Î': 'i',
    'Î‘': 'A', 'Î’': 'B', 'Î“': 'G', 'Î”': 'D', 'Î•': 'E', 'Î–': 'Z', 'Î—': 'H', 'Î˜': '8',
    'Î™': 'I', 'Îš': 'K', 'Î›': 'L', 'Îœ': 'M', 'Î': 'N', 'Îž': '3', 'ÎŸ': 'O', 'Î ': 'P',
    'Î¡': 'R', 'Î£': 'S', 'Î¤': 'T', 'Î¥': 'Y', 'Î¦': 'F', 'Î§': 'X', 'Î¨': 'PS', 'Î©': 'W',
    'Î†': 'A', 'Îˆ': 'E', 'ÎŠ': 'I', 'ÎŒ': 'O', 'ÎŽ': 'Y', 'Î‰': 'H', 'Î': 'W', 'Îª': 'I',
    'Î«': 'Y',
    // turkish
    'ÅŸ': 's', 'Åž': 'S', 'Ä±': 'i', 'Ä°': 'I', 'Ã§': 'c', 'Ã‡': 'C', 'Ã¼': 'u', 'Ãœ': 'U',
    'Ã¶': 'o', 'Ã–': 'O', 'ÄŸ': 'g', 'Äž': 'G',
    // russian
    'Ð°': 'a', 'Ð±': 'b', 'Ð²': 'v', 'Ð³': 'g', 'Ð´': 'd', 'Ðµ': 'e', 'Ñ‘': 'yo', 'Ð¶': 'zh',
    'Ð·': 'z', 'Ð¸': 'i', 'Ð¹': 'j', 'Ðº': 'k', 'Ð»': 'l', 'Ð¼': 'm', 'Ð½': 'n', 'Ð¾': 'o',
    'Ð¿': 'p', 'Ñ€': 'r', 'Ñ': 's', 'Ñ‚': 't', 'Ñƒ': 'u', 'Ñ„': 'f', 'Ñ…': 'h', 'Ñ†': 'c',
    'Ñ‡': 'ch', 'Ñˆ': 'sh', 'Ñ‰': 'sh', 'ÑŠ': 'u', 'Ñ‹': 'y', 'ÑŒ': '', 'Ñ': 'e', 'ÑŽ': 'yu',
    'Ñ': 'ya',
    'Ð': 'A', 'Ð‘': 'B', 'Ð’': 'V', 'Ð“': 'G', 'Ð”': 'D', 'Ð•': 'E', 'Ð': 'Yo', 'Ð–': 'Zh',
    'Ð—': 'Z', 'Ð˜': 'I', 'Ð™': 'J', 'Ðš': 'K', 'Ð›': 'L', 'Ðœ': 'M', 'Ð': 'N', 'Ðž': 'O',
    'ÐŸ': 'P', 'Ð ': 'R', 'Ð¡': 'S', 'Ð¢': 'T', 'Ð£': 'U', 'Ð¤': 'F', 'Ð¥': 'H', 'Ð¦': 'C',
    'Ð§': 'Ch', 'Ð¨': 'Sh', 'Ð©': 'Sh', 'Ðª': 'U', 'Ð«': 'Y', 'Ð¬': '', 'Ð­': 'E', 'Ð®': 'Yu',
    'Ð¯': 'Ya',
    // ukranian
    'Ð„': 'Ye', 'Ð†': 'I', 'Ð‡': 'Yi', 'Ò': 'G', 'Ñ”': 'ye', 'Ñ–': 'i', 'Ñ—': 'yi', 'Ò‘': 'g',
    // czech
    'Ä': 'c', 'Ä': 'd', 'Ä›': 'e', 'Åˆ': 'n', 'Å™': 'r', 'Å¡': 's', 'Å¥': 't', 'Å¯': 'u',
    'Å¾': 'z', 'ÄŒ': 'C', 'ÄŽ': 'D', 'Äš': 'E', 'Å‡': 'N', 'Å˜': 'R', 'Å ': 'S', 'Å¤': 'T',
    'Å®': 'U', 'Å½': 'Z',
    // polish
    'Ä…': 'a', 'Ä‡': 'c', 'Ä™': 'e', 'Å‚': 'l', 'Å„': 'n', 'Ã³': 'o', 'Å›': 's', 'Åº': 'z',
    'Å¼': 'z', 'Ä„': 'A', 'Ä†': 'C', 'Ä˜': 'e', 'Å': 'L', 'Åƒ': 'N', 'Åš': 'S',
    'Å¹': 'Z', 'Å»': 'Z',
    // latvian
    'Ä': 'a', 'Ä': 'c', 'Ä“': 'e', 'Ä£': 'g', 'Ä«': 'i', 'Ä·': 'k', 'Ä¼': 'l', 'Å†': 'n',
    'Å¡': 's', 'Å«': 'u', 'Å¾': 'z', 'Ä€': 'A', 'ÄŒ': 'C', 'Ä’': 'E', 'Ä¢': 'G', 'Äª': 'i',
    'Ä¶': 'k', 'Ä»': 'L', 'Å…': 'N', 'Å ': 'S', 'Åª': 'u', 'Å½': 'Z',
    // currency
    'â‚¬': 'euro', 'â‚¢': 'cruzeiro', 'â‚£': 'french franc', 'Â£': 'pound',
    'â‚¤': 'lira', 'â‚¥': 'mill', 'â‚¦': 'naira', 'â‚§': 'peseta', 'â‚¨': 'rupee',
    'â‚©': 'won', 'â‚ª': 'new shequel', 'â‚«': 'dong', 'â‚­': 'kip', 'â‚®': 'tugrik',
    'â‚¯': 'drachma', 'â‚°': 'penny', 'â‚±': 'peso', 'â‚²': 'guarani', 'â‚³': 'austral',
    'â‚´': 'hryvnia', 'â‚µ': 'cedi', 'Â¢': 'cent', 'Â¥': 'yen', 'å…ƒ': 'yuan',
    'å††': 'yen', 'ï·¼': 'rial', 'â‚ ': 'ecu', 'Â¤': 'currency', 'à¸¿': 'baht',
    '$': 'dollar',
    // symbols
    'Â©': '(c)', 'Å“': 'oe', 'Å’': 'OE', 'âˆ‘': 'sum', 'Â®': '(r)', 'â€ ': '+',
    'â€œ': '"', 'â€': '"', 'â€˜': "'", 'â€™': "'", 'âˆ‚': 'd', 'Æ’': 'f', 'â„¢': 'tm',
    'â„ ': 'sm', 'â€¦': '...', 'Ëš': 'o', 'Âº': 'o', 'Âª': 'a', 'â€¢': '*',
    'âˆ†': 'delta', 'âˆž': 'infinity', 'â™¥': 'love', '&': 'and', '|': 'or',
    '<': 'less', '>': 'greater'
  }

  function replace (string, replacement) {
    return string.split('').reduce(function (result, ch) {
      if (charMap[ch]) {
        ch = charMap[ch]
      }
      // allowed
      ch = ch.replace(/[^\w\s$*_+~.()'"!\-:@]/g, '')
      result += ch
      return result
    }, '')
      // trim leading/trailing spaces
      .replace(/^\s+|\s+$/g, '')
      // convert spaces
      .replace(/[-\s]+/g, replacement || '-')
      // remove trailing separator
      .replace('#{replacement}$', '')
  }

  replace.extend = function (customMap) {
    for (var key in customMap) {
      charMap[key] = customMap[key]
    }
  }

  return replace
}))
